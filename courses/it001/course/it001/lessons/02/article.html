<html>
    <head>
    </head>
    <body>
        <article chapter-id="02">

            <!-- -------------------------------- Heading level 1 -------------------------------- -->
            <h1>Using Javascript</h1>


            <!-- -------------------------------- Heading level 2 -------------------------------- -->
            <h2>The debugger</h2>
            <p>
                Google Chrome has got a powerful feature built right into the browser which allows you to 
                test your javascripts - the debugger. This is a piece of software which allows you to step 
                through your code and to inspect all the internal information, such as the values in the 
                variables in your scripts. The debugger isn't the only developer tool in Google Chrome, but
                it will be the one you will use most often.
                <div class="note">
                    To test your Javascipt code, make extensive use of the debugger! Read 
                    Google's  
                    <a target="_blank" href="https://developers.google.com/chrome-developer-tools/">introduction</a> to the developer 
                    tools, especially the 
                    <a target="_blank" href="https://developers.google.com/chrome-developer-tools/docs/javascript-debugging">section</a>
                    on how to use the debugger!
                </div>
            </p>
            
            <!-- -------------------------------- Heading level 2 -------------------------------- -->
            <h2>Linking</h2>
            <p>
                In the majority of cases, javascripts run as part of web pages inside the web browser.
                A script is made available to the web browser by using the <tt>&lt;script&gt;</tt> tag
                inside the resp. web page. In other words, the <tt>&lt;script&gt;</tt> tag <em>links</em> 
                a script to the web page.<br/>
                There are two ways by which we can link a script to a web page: Either <em>internally</em> 
                or <em>externally</em>. There's no hard and fast rule which way to choose. As a rule of
                thumb, small javascripts are better linked internally whilst large javascripts would be 
                better linked externally. If the same javascript is shared between multiple web pages
                it is mandatory to link it externally. It's really up to the developer to decide how to
                set up the website and how best to do the Javascripting.
                <div class="note">
                    In most of the code examples on this site we'll just show the Javascript code without 
                    the embedding HTML code. When you try some example code you'll always have to write 
                    your own HTML code to link to it - even if that HTML code isn't in the resp. example.
                </div>
            </p>


            <!-- -------------------------------- Heading level 3 -------------------------------- -->
            <h3>Linking internally</h3>
            <p>
                Linking a script internally is also called "embedding" because the script's source code
                is directly embedded in the resp. web page. To link a javascript internally...
            </p>

            <table class="instruction">
                <tr>
                    <td>
                        Insert a <tt>&lt;script&gt;</tt> tag into your web page. You can do this in the
                        <tt>&lt;head&gt;</tt> section or the <tt>&lt;body&gt;</tt> section. Here it's 
                        embedded in the <tt>&lt;head&gt;</tt> section:
                    </td>
                    <td>
                        <div class="example nomargin-top">
                            <pre class="prettyprint inline">
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;script&gt;
                                        &lt;/script&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </pre>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        Insert your script code between the opening <tt>&lt;script&gt;</tt> 
                        and the closing <tt>&lt;/script&gt;</tt> tag:
                    </td>
                    <td>
                        <div class="example nomargin-top">
                            <pre class="prettyprint inline">
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;script&gt;
                                            /* The embedded script code */
                                            window.alert ("Hello World");
                                        &lt;/script&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </pre>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        As soon as you load that web page into the browser you will see a message box:<br/>
                    </td>
                    <td>
                        <img style="margin-left:2.5em;" src="course/it001/lessons/02/img/sshot-01.png"/>
                    </td>
                </tr>
            </table>


            <!-- -------------------------------- Heading level 3 -------------------------------- -->
            <h3>Linking externally</h3>
            <p>
                Linking a script externally means that the script is placed in a file separate from the 
                web page. As with embedding, the file is linked with a <tt>&lt;script&gt;</tt> tag, but 
                this time a reference is inserted into the <tt>&lt;script&gt;</tt> tag's <tt>src</tt>
                attribute. To link a script externally:
            </p>
            <table class="instruction">
                <tr>
                    <td>
                        Insert an empty <tt>&lt;script&gt;</tt> tag into your web page.
                    </td>
                    <td>
                        <div class="example nomargin-top">
                            <pre class="prettyprint inline">
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;script/&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </pre>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>
                            Set the <tt>&lt;script&gt;</tt> tag's <tt>src</tt> attribute so it points
                            to the resp. Javascript file.
                        </p>
                        <p>
                            When loading the web page the web browser will execute the script file
                            as soon as it encouters the <tt>&lt;script&gt;</tt> tag. For this to work 
                            the script's file needs to be accessible to the webbrowser.
                        </p>
                    </td>
                    <td>
                        <div class="example nomargin-top">
                            <pre class="prettyprint inline">
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;script src="path/to/script.js"/&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </pre>
                        </div>
                    </td>
                </tr>
            </table>
            <div class="note">
                There must only be Javascript code in the script's file, i.e. no HTML code or 
                <tt>&lt;script&gt;</tt> tags. Anything but valid Javascript code will result 
                in an error.
            </div>


            <!-- -------------------------------- Heading level 2 -------------------------------- -->
            <h2>Input and output</h2>
            <p>
                Most times programs need to interact with the user at some stage. With javascripts the 
                user interaction needs a little bit more integration into the web pages they are linked to.
                This means some level of HTML coding, especially when it comes to capturing the user's
                input. We won't look into this in too much detail since HTML coding isn't the goal 
                of this course. However, we'll give the bare bone details.<br/>
            </p>


            <!-- -------------------------------- Heading level 3 -------------------------------- -->
            <h3>Output</h3>
            <p>
                Most times your program will present some information to the user. 
                For <em>output</em>, we'll make use of three methods: 
            </p>
            <ul>
                <li>Printing to the Javascript console.</li>
                <li>Showing a message box.</li>
                <li>Interfacing with the embedding webpage</li>
            </ul>
            <p>
                For example, we may want to tell the user that some value is too high. There are different 
                ways of telling the user about the too-high value:
            </p>

            
            <!-- -------------------------------- Heading level 4 -------------------------------- -->
            <h4>Javascript console</h4>
            <p>
                The Javascript console is accessible from the Developer tools in Google
                Chrome. You can send text to the console which is then printed out for
                your reading pleasure. This is convenient for continouus data output, 
                but it's not as visible:
            </p>
            <div class="example" demo-id="it001_Ex_02_010">
                <pre class="prettyprint">
                    var myValue = 100;
                    if (myValue >= 100)
                        console.log ("Yikes! myValue is too high!");
                </pre>
            </div>

            <!-- -------------------------------- Heading level 4 -------------------------------- -->
            <h4>Message box</h4>
            <p>
                This pops up a message box on your screen showing the designated message
                and an "OK" button. The box stays until you click the "OK" button (this 
                can be a bit awkward if you need continouus output of multiple values):
            </p>
            <div class="example" demo-id="it001_Ex_02_020">
                <pre class="prettyprint">
                    var myValue = 100;
                    if (myValue >= 100)
                        window.alert ("Yikes! myValue is too high!");
                </pre>
            </div>


            <!-- -------------------------------- Heading level 4 -------------------------------- -->
            <h4>Interfacing with the embedding webpage</h4>
            <p>
                This will make Javascript change the content of the embedding web page.
                This is very visible and non-intrusive. It's a bit more complex to 
                set up, though.
            </p>
            <p>
                Two things are necessary for in-page output:
            </p>
            <table class="instruction">
                <tr>
                    <td>
                        In your web page, in the <tt>&lt;body&gt;</tt> section, you will need 
                        to provide a HTML element with an <tt>id</tt> attribute. 
                        Here we use a <tt>&lt;pre&gt;</tt> element. Note that the 
                        <tt>&lt;pre&gt;</tt> element has an <tt>id</tt> attribute set to 
                        <tt>Ex_03_03_output</tt>. The <tt>id</tt> is very important, because
                        Javascript will use it to access the <tt>&lt;pre&gt;</tt> element:
                    </td>
                    <td>
                        <div class="example nomargin-top">
                            <pre class="prettyprint inline">
                                &lt;html&gt;
                                    &lt;head&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;pre id="Ex_03_03_output"/&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </pre>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        In your linked Javascript code you need to set the <tt>innerHTML</tt> 
                        property of the <tt>&lt;pre&gt;</tt> element with the <tt>id</tt> 
                        specified in the previous step. This will set the text in the 
                        <tt>&lt;pre&gt;</tt> element to whatever string you provide:
                    </td>
                    <td>
                        <div class="example nomargin-top">
                            <pre class="prettyprint inline">
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;script&gt;
                                            var myValue = 100;
                                            if (myValue >= 100)
                                                document.getElementById("output").innerHTML = "Yikes! myValue is too high!";
                                        &lt;/script&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;pre id="output"&gt;Output will appear here.&lt;/pre&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </pre>
                        </div>
                    </td>
                </tr>
            </table>
            <p>
                Here's the above example for you to try:
            </p>
            <div class="example" demo-id="it001_Ex_02_030">
                <pre class="prettyprint">
                    &lt;html&gt;
                        &lt;head&gt;
                            &lt;script&gt;
                                var myValue = 100;
                                if (myValue >= 100)
                                    document.getElementById("output").innerHTML = "Yikes! myValue is too high!";
                            &lt;/script&gt;
                        &lt;/head&gt;
                        &lt;body&gt;
                            &lt;pre id="output"&gt;Output will appear here.&lt;/pre&gt;
                        &lt;/body&gt;
                    &lt;/html&gt;
                </pre>
                <pre id="it001_output_Ex_02_030"
                     style="border:1px solid maroon;color:maroon;font-weight:bold;border-radius:4px;margin-left:1em;margin-right:1em;margin-bottom:1em;padding-left:1em;"
                >Output will appear here.</pre>
                <div style="position:relative;left:2.5em;top:-10px;font-size:0.75em;font-style:italic;font-weight:bold;color:darkblue;">
                    Scroll this output field to the bottom of your screen. Otherwise the "Run" popup may cover it and you won't see the results.
                </div>
            </div>
            

            <!-- -------------------------------- Heading level 3 -------------------------------- -->
            <h3>Input</h3>
            <p>
                Programs need data to work with, and often this data has to be provided by the user. To set up
                user input in a web page you will need to put some web form elements into the web page and 
                have your Javascript work with those form elements. Here's an example of a page which receives
                input from the user and shows the input in a message box:
            </p>
            <div class="example" demo-id="it001_Ex_02_040">
                <div style="border:1px solid maroon;border-radius:4px;background-color:#efefef;margin-left:1em;margin-right:1em;margin-top:1em;padding:10px;">
                    <input id="it001_input_Ex_02_040" 
                           type="text" 
                           value="Type some text here."
                           style="color:maroon;font-weight:bold;border-radius:3px;padding:5px;"/>
                    <input type="button" 
                           value="Show"
                           style="width:10em;padding:5px;margin-left:1em;"
                           onClick="window.alert(document.getElementById('it001_input_Ex_02_040').value);"/>
                </div>
                <pre class="prettyprint linenums">
                    &lt;html&gt;
                        &lt;head&gt;
                            &lt;script&gt;
                                function GetContent ()
                                {
                                    var inputElement;
                                    var text;

                                    inputElement = document.getElementById ("input");
                                    text         = inputElement.value;
                                    window.alert (text);
                                }
                            &lt;/script&gt;
                        &lt;/head&gt;
                        &lt;body&gt;
                            &lt;input type="text" id="input"/&gt;
                            &lt;button onclick="GetContent ();"&gt;Show&lt;/button&gt;
                        &lt;/body&gt;
                    &lt;/html&gt;
                </pre>
            </div>
            <p>
                In this example we use an event handler and connect it with the "Show" button. The
                event handler is defined as a function in lines <tt>4</tt> to <tt>12</tt>. We won't talk 
                much about functions now, they will be explained later. Suffice to say that the event
                handler function is registered with the "Show" button such that it is called 
                when the user clicks the button. The registering is done in line <tt>17</tt>, in the 
                attribute <tt>onclick="GetContent ();"</tt>.
            </p>
            <div class="note">
                These days the use of HTML event handlers is discouraged in web design. However, 
                this course isn't about web development. It's about programming, and we just need 
                something that is quick to set up. If you want to learn more about web development
                then you need to learn the correct way of registering event listeners in Javascript.
            </div>
        </article>
    </body>
</html>
